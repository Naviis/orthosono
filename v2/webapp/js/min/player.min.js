var Player=function(){return this.sounds_path="sounds/",this.playlist=[],this.current=0,this.e_player=document.getElementById("player"),this.$e_prevBtn=$("#player_prev"),this.$e_nextBtn=$("#player_next"),this.$e_playlist=$(".player_playlist"),this.silence_delay=2,this.silence=null,this.init()};Player.prototype={init:function(){return this.generatePlaylist(),this.addEvents(),this},generatePlaylist:function(){if(this.stop(),this.$e_playlist.html(""),this.playlist.length){for(var t=0;t<this.playlist.length;t++){var e=this.playlist[t],i=$("<li></li>").attr("data-index",t).html(e.name);this.$e_playlist.append(i)}this.changePlayerSoundUrl()}},addEvents:function(){var t=this;this.$e_prevBtn.click(function(e){e.preventDefault(),t.changeCurrentSound("previous")}),this.$e_nextBtn.click(function(e){e.preventDefault(),t.changeCurrentSound("next")}),this.$e_playlist.on("click","li",function(){var e=$(this).attr("data-index");t.changeCurrentSound(e)})},changeCurrentSound:function(t){if(this.stop(),"previous"==t){var e=this.current-1;this.current=e>=0?e:this.playlist.length-1}else if("next"==t){var e=this.current+1;this.current=this.playlist.length-1>=e?e:0}else this.current=t;this.changePlayerSoundUrl(),this.play()},changePlayerSoundUrl:function(){this.e_player.src=this.sounds_path+this.playlist[this.current].path},stop:function(){this.e_player.pause(),this.e_player.currentTime=0},play:function(){this.e_player.play()}},$(function(){new Player});